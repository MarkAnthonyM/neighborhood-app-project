(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(8),r=n.n(i),c=(n(14),n(1)),s=n(2),l=n(5),u=n(3),d=n(4),m=n(6);var p=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"header"},a.a.createElement("h1",{tabIndex:"0"},"Neighborhood Restaurant Map"),a.a.createElement("img",{tabIndex:"0",onClick:function(){e.props.toggleNavMenu()},className:"hamburger-icon",src:"https://img.icons8.com/material-rounded/100/000000/menu.png",alt:"Navigation icon"}))}}]),t}(o.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filterMarkers,n=e.markers,o=e.query,i=e.setInfoWindow,r=e.largeInfoWindow;return a.a.createElement("div",{id:"nav",className:"nav-bar nav-close"},a.a.createElement("h3",{tabIndex:"0"},"Filter By Location"),a.a.createElement("input",{className:"filter-box",type:"text",placeholder:"Filter By Name",value:o,onChange:function(e){return t(e.target.value)}}),a.a.createElement("div",{className:"list-container"},a.a.createElement("ul",{className:"filter-list"},n.map(function(e){return a.a.createElement("li",{key:e.id,className:"filter-list-item"},a.a.createElement("button",{onClick:function(){i(e,r)}},e.title))}))))}}]),t}(o.Component),g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={show:!1,timeout:null},n.showMessage=function(){n.setState({show:!0})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){window.clearTimeout(this.state.timeout)}},{key:"componentDidMount",value:function(){var e=window.setTimeout(this.showMessage,1e3);this.setState({timeout:e})}},{key:"render",value:function(){return a.a.createElement("div",null,this.state.show?a.a.createElement("h1",null,"Error loading map"):a.a.createElement("h2",null,"Content Loading"))}}]),t}(o.Component),h=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{role:"application","aria-label":"map",id:"map"})}}]),t}(o.Component),v=(n(16),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={query:"",isLoading:!0,filteredMarkers:[],toggle:!1},n.setInfoWindow=function(e,t,o){var a=Object(m.a)(Object(m.a)(n)).googleObject;if(t.marker!==e){t.setContent(""),t.marker=e,n.animatingMarker&&n.animatingMarker.setAnimation(null),n.animatingMarker=e,e.setAnimation(n.googleObject.Animation.BOUNCE),t.addListener("closeclick",function(){t.marker=null,e.setAnimation(null)});var i=n.loadVenueDetails(e);Promise.all([i]).then(function(e){n.venueDetails=e[0].response.venue});(new a.StreetViewService).getPanoramaByLocation(e.position,50,function(n,o){if(o===a.StreetViewStatus.OK){var r=n.location.latLng,c=a.geometry.spherical.computeHeading(r,e.position);t.setContent("\n            <h2>".concat(e.title,"</h2>\n            <div id='pano'></div>\n            <p>Address: ").concat(e.location.formattedAddress[0],", ").concat(e.location.formattedAddress[1],"</p>\n            <p>Rating: ").concat(i.rating,"</p>\n            "));var s={position:r,pov:{heading:c,pitch:30}};new a.StreetViewPanorama(document.getElementById("pano"),s)}else t.setContent("<div>".concat(e.title,"<div><div>No Street View Found</div>"))}),t.open(n.map,e)}},n.filterMarkers=function(e){n.filterContainer=[],n.venueMarkers.forEach(function(t){t.title.toLowerCase().includes(e.toLowerCase())?(t.setVisible(!0),n.filterContainer.push(t)):t.setVisible(!1)}),n.setState({query:e,filteredMarkers:n.filterContainer})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=new Promise(function(e,t){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?libraries=places,geometry&key=".concat("AIzaSyAP4vpEbZ99EZkBmoTlvApp1wTIbDJtA-8","&callback=resolveGoogleMapsPromise"),n.async=!0,document.body.appendChild(n)}),n=function(){var e="https://api.foursquare.com/v2/venues/search?client_id=".concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20180323&limit=30&near=").concat("Dallas, TX","&query=").concat("restuarant");return fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)})}();Promise.all([t,n]).then(function(t){e.googleObject=t[0].maps,e.venues=t[1].response.venues,e.map=new e.googleObject.Map(document.getElementById("map"),{center:{lat:32.815747500947786,lng:-96.80991529391892},zoom:13}),e.largeInfoWindow=new e.googleObject.InfoWindow;var n=new e.googleObject.LatLngBounds,o="http://maps.google.com/mapfiles/ms/icons/red-dot.png";e.venueMarkers=[],e.animatedMarker=null,e.venues.forEach(function(t){var a=t.id,i=t.name,r={lat:t.location.lat,lng:t.location.lng},c=t.location,s=new e.googleObject.Marker({map:e.map,position:r,icon:o,title:i,location:c,animation:e.googleObject.Animation.DROP,id:a});e.venueMarkers.push(s),n.extend(s.position),s.addListener("click",function(){e.animatedMarker=s,e.setInfoWindow(s,e.largeInfoWindow,e.animatedMarker)}),s.addListener("mouseover",function(){s.setIcon("http://maps.google.com/mapfiles/ms/icons/green-dot.png")}),s.addListener("mouseout",function(){s.setIcon(o)})}),e.map.fitBounds(n),e.setState({isLoading:!1,filteredMarkers:e.venueMarkers})}).catch(function(e){console.log(e)})}},{key:"loadVenueDetails",value:function(e){var t="https://api.foursquare.com/v2/venues/".concat(e.id,"?client_id=").concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20181025");return fetch(t).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}},{key:"toggleNavMenu",value:function(){document.getElementById("nav").classList.toggle("nav-open")}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(p,{toggleNavMenu:this.toggleNavMenu}),a.a.createElement("main",null,this.state.isLoading?a.a.createElement(g,null):a.a.createElement(f,{largeInfoWindow:this.largeInfoWindow,query:this.state.query,markers:this.state.filteredMarkers,filterMarkers:this.filterMarkers,setInfoWindow:this.setInfoWindow}),a.a.createElement(h,null)))}}]),t}(o.Component)),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(v,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/neighborhood-app-project",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/neighborhood-app-project","/service-worker.js");w?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):b(t,e)})}}()},9:function(e,t,n){e.exports=n(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.516293d4.chunk.js.map