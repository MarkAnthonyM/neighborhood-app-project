(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),r=n.n(i),c=(n(14),n(1)),l=n(2),s=n(5),u=n(3),d=n(4),m=n(6);var f=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"header"},o.a.createElement("h1",{tabIndex:"0",className:"header-title"},"Neighborhood Restaurant Map"),o.a.createElement("img",{tabIndex:"0",onClick:function(){e.props.toggleNavMenu()},className:"hamburger-icon",src:"https://img.icons8.com/material-rounded/100/000000/menu.png",alt:"Navigation icon"}))}}]),t}(a.Component),p=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filterMarkers,n=e.markers,a=e.query,i=e.setInfoWindow,r=e.largeInfoWindow;return o.a.createElement("div",{id:"nav",className:"nav-bar nav-close"},o.a.createElement("h3",{tabIndex:"0"},"Filter By Location"),o.a.createElement("input",{className:"filter-box",type:"text",placeholder:"Filter By Name",value:a,onChange:function(e){return t(e.target.value)}}),o.a.createElement("div",{className:"list-container"},o.a.createElement("ul",{className:"filter-list"},n.map(function(e){return o.a.createElement("li",{key:e.id,className:"filter-list-item"},o.a.createElement("button",{onClick:function(){i(e,r)}},e.title))}))))}}]),t}(a.Component),g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={timeout:null,failed:!1},n.loadingFailed=function(){n.setState({failed:!0})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.state.timeout)}},{key:"componentDidMount",value:function(){var e=window.setTimeout(this.loadingFailed,1e3);this.setState({timeout:e})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.failed?o.a.createElement("div",null,o.a.createElement("h1",{tabIndex:"0"},"Error Loading Map"),o.a.createElement("p",{tabIndex:"0"},"There was an error loading map. Please try again")):o.a.createElement("h2",null,"Content Loading..."))}}]),t}(a.Component),h=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{role:"application","aria-label":"map",id:"map"})}}]),t}(a.Component),v=(n(16),n(18),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",isLoading:!0,filteredMarkers:[],toggle:!1},n.setInfoWindow=function(e,t,a){var o=Object(m.a)(Object(m.a)(n)).googleObject;if(t.marker!==e){t.setContent(""),t.marker=e,n.animatingMarker&&n.animatingMarker.setAnimation(null),n.animatingMarker=e,e.setAnimation(n.googleObject.Animation.BOUNCE),t.addListener("closeclick",function(){t.marker=null,e.setAnimation(null)});var i=function(e){var t="https://api.foursquare.com/v2/venues/".concat(e.id,"?client_id=").concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20181025");return fetch(t).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}(e);Promise.all([i]).then(function(e){n.venueDetails=e[0].response.venue});(new o.StreetViewService).getPanoramaByLocation(e.position,50,function(n,a){if(a===o.StreetViewStatus.OK){var r=n.location.latLng,c=o.geometry.spherical.computeHeading(r,e.position);t.setContent("\n            <h2>".concat(e.title,"</h2>\n            <div id='pano'></div>\n            <p>Address: ").concat(e.location.formattedAddress[0],", ").concat(e.location.formattedAddress[1],"</p>\n            <p>Rating: ").concat(i.rating,"</p>\n            <figcaption>Data by <a href='https://developer.foursquare.com/'>FourSquare</a></figcaption>\n            "));var l={position:r,pov:{heading:c,pitch:30}};new o.StreetViewPanorama(document.getElementById("pano"),l)}else t.setContent("<div>".concat(e.title,"<div><div>No Street View Found</div>"))}),t.open(n.map,e)}},n.filterMarkers=function(e){n.filterContainer=[],n.venueMarkers.forEach(function(t){t.title.toLowerCase().includes(e.toLowerCase())?(t.setVisible(!0),n.filterContainer.push(t)):t.setVisible(!1)}),n.setState({query:e,filteredMarkers:n.filterContainer})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=new Promise(function(e,t){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?libraries=places,geometry&key=".concat("AIzaSyAP4vpEbZ99EZkBmoTlvApp1wTIbDJtA-8","&callback=resolveGoogleMapsPromise"),n.async=!0,document.body.appendChild(n)}),n=function(){var e="https://api.foursquare.com/v2/venues/search?client_id=".concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20180323&limit=30&near=").concat("Dallas, TX","&query=").concat("restuarant");return fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)})}();Promise.all([t,n]).then(function(t){e.googleObject=t[0].maps,e.venues=t[1].response.venues,e.map=new e.googleObject.Map(document.getElementById("map"),{center:{lat:32.815747500947786,lng:-96.80991529391892},zoom:13}),e.largeInfoWindow=new e.googleObject.InfoWindow;var n=new e.googleObject.LatLngBounds,a="https://maps.google.com/mapfiles/ms/icons/red-dot.png";e.venueMarkers=[],e.animatedMarker=null,e.venues.forEach(function(t){var o=t.id,i=t.name,r={lat:t.location.lat,lng:t.location.lng},c=t.location,l=new e.googleObject.Marker({map:e.map,position:r,icon:a,title:i,location:c,animation:e.googleObject.Animation.DROP,id:o});e.venueMarkers.push(l),n.extend(l.position),l.addListener("click",function(){e.animatedMarker=l,e.setInfoWindow(l,e.largeInfoWindow,e.animatedMarker)}),l.addListener("mouseover",function(){l.setIcon("https://maps.google.com/mapfiles/ms/icons/green-dot.png")}),l.addListener("mouseout",function(){l.setIcon(a)})}),e.map.fitBounds(n),e.setState({isLoading:!1,filteredMarkers:e.venueMarkers})}).catch(function(e){console.log(e)})}},{key:"toggleNavMenu",value:function(){document.getElementById("nav").classList.toggle("nav-open")}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("main",null,this.state.isLoading?o.a.createElement(g,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{largeInfoWindow:this.largeInfoWindow,query:this.state.query,markers:this.state.filteredMarkers,filterMarkers:this.filterMarkers,setInfoWindow:this.setInfoWindow}),o.a.createElement(f,{toggleNavMenu:this.toggleNavMenu})),o.a.createElement(h,null)))}}]),t}(a.Component)),b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(v,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/neighborhood-app-project",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/neighborhood-app-project","/service-worker.js");b?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):w(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):w(t,e)})}}()},9:function(e,t,n){e.exports=n(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.96733a87.chunk.js.map