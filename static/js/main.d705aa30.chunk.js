(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){},16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(8),r=t.n(i),c=(t(14),t(1)),s=t(2),l=t(5),u=t(3),d=t(4),m=t(6);var p=function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"header"},a.a.createElement("h1",{tabIndex:"0"},"Neighborhood Restaurant Map"),a.a.createElement("img",{tabIndex:"0",onClick:function(){e.props.toggleNavMenu()},className:"hamburger-icon",src:"https://img.icons8.com/material-rounded/100/000000/menu.png",alt:"Navigation icon"}))}}]),n}(o.Component),f=function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props,n=e.filterMarkers,t=e.markers,o=e.query,i=e.setInfoWindow,r=e.largeInfoWindow;return a.a.createElement("div",{id:"nav",className:"nav-bar nav-close"},a.a.createElement("h3",{tabIndex:"0"},"Filter By Location"),a.a.createElement("input",{className:"filter-box",type:"text",placeholder:"Filter By Name",value:o,onChange:function(e){return n(e.target.value)}}),a.a.createElement("div",{className:"list-container"},a.a.createElement("ul",{className:"filter-list"},t.map(function(e){return a.a.createElement("li",{key:e.id,className:"filter-list-item"},a.a.createElement("button",{onClick:function(){i(e,r)}},e.title))}))))}}]),n}(o.Component),g=function(e){function n(){return Object(c.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{role:"application","aria-label":"map",id:"map"})}}]),n}(o.Component),v=(t(16),function(e){function n(){var e,t;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(a)))).state={query:"",isLoading:!0,filteredMarkers:[],toggle:!1},t.setInfoWindow=function(e,n,o){var a=Object(m.a)(Object(m.a)(t)).googleObject;if(n.marker!==e){n.setContent(""),n.marker=e,t.animatingMarker&&t.animatingMarker.setAnimation(null),t.animatingMarker=e,e.setAnimation(t.googleObject.Animation.BOUNCE),n.addListener("closeclick",function(){n.marker=null,e.setAnimation(null)});var i=t.loadVenueDetails(e);Promise.all([i]).then(function(e){t.venueDetails=e[0].response.venue});(new a.StreetViewService).getPanoramaByLocation(e.position,50,function(t,o){if(o===a.StreetViewStatus.OK){var r=t.location.latLng,c=a.geometry.spherical.computeHeading(r,e.position);n.setContent("\n            <h2>".concat(e.title,"</h2>\n            <div id='pano'></div>\n            <p>Address: ").concat(e.location.formattedAddress[0],", ").concat(e.location.formattedAddress[1],"</p>\n            <p>Rating: ").concat(i.rating,"</p>\n            "));var s={position:r,pov:{heading:c,pitch:30}};new a.StreetViewPanorama(document.getElementById("pano"),s)}else n.setContent("<div>".concat(e.title,"<div><div>No Street View Found</div>"))}),n.open(t.map,e)}},t.filterMarkers=function(e){t.filterContainer=[],t.venueMarkers.forEach(function(n){n.title.toLowerCase().includes(e.toLowerCase())?(n.setVisible(!0),t.filterContainer.push(n)):n.setVisible(!1)}),t.setState({query:e,filteredMarkers:t.filterContainer})},t}return Object(d.a)(n,e),Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=this,n=new Promise(function(e,n){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?libraries=places,geometry&key=".concat("AIzaSyAP4vpEbZ99EZkBmoTlvApp1wTIbDJtA-8","&callback=resolveGoogleMapsPromise"),t.async=!0,document.body.appendChild(t)}),t=function(){var e="https://api.foursquare.com/v2/venues/search?client_id=".concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20180323&limit=30&near=").concat("Dallas, TX","&query=").concat("restuarant");return fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)})}();Promise.all([n,t]).then(function(n){e.googleObject=n[0].maps,e.venues=n[1].response.venues,e.map=new e.googleObject.Map(document.getElementById("map"),{center:{lat:32.815747500947786,lng:-96.80991529391892},zoom:13}),e.largeInfoWindow=new e.googleObject.InfoWindow;var t=new e.googleObject.LatLngBounds,o="http://maps.google.com/mapfiles/ms/icons/red-dot.png";e.venueMarkers=[],e.animatedMarker=null,e.venues.forEach(function(n){var a=n.id,i=n.name,r={lat:n.location.lat,lng:n.location.lng},c=n.location,s=new e.googleObject.Marker({map:e.map,position:r,icon:o,title:i,location:c,animation:e.googleObject.Animation.DROP,id:a});e.venueMarkers.push(s),t.extend(s.position),s.addListener("click",function(){e.animatedMarker=s,e.setInfoWindow(s,e.largeInfoWindow,e.animatedMarker)}),s.addListener("mouseover",function(){s.setIcon("http://maps.google.com/mapfiles/ms/icons/green-dot.png")}),s.addListener("mouseout",function(){s.setIcon(o)})}),e.map.fitBounds(t),e.setState({isLoading:!1,filteredMarkers:e.venueMarkers})}).catch(function(e){console.log(e)})}},{key:"loadVenueDetails",value:function(e){var n="https://api.foursquare.com/v2/venues/".concat(e.id,"?client_id=").concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20181025");return fetch(n).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}},{key:"toggleNavMenu",value:function(){document.getElementById("nav").classList.toggle("nav-open")}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(p,{toggleNavMenu:this.toggleNavMenu}),a.a.createElement("main",null,this.state.isLoading?a.a.createElement("h2",null,"Content Loading"):a.a.createElement(f,{largeInfoWindow:this.largeInfoWindow,query:this.state.query,markers:this.state.filteredMarkers,filterMarkers:this.filterMarkers,setInfoWindow:this.setInfoWindow}),a.a.createElement(g,null)))}}]),n}(o.Component)),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(v,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/neighborhood-app-project",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/neighborhood-app-project","/service-worker.js");h?(function(e,n){fetch(e).then(function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):w(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):w(n,e)})}}()},9:function(e,n,t){e.exports=t(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.d705aa30.chunk.js.map