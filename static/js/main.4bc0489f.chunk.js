(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(8),r=n.n(i),c=(n(14),n(2)),s=n(3),l=n(5),u=n(4),d=n(6),m=n(1);var p=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filterMarkers,n=e.markers,o=e.query,i=e.setInfoWindow,r=e.largeInfoWindow;return a.a.createElement("div",{id:"nav",className:"nav-bar nav-close"},a.a.createElement("h3",null,"Filter By Location"),a.a.createElement("input",{className:"filter-box",type:"text",placeholder:"Filter By Name",value:o,onChange:function(e){return t(e.target.value)}}),a.a.createElement("div",{className:"list-container"},a.a.createElement("ul",{className:"filter-list"},n.map(function(e){return a.a.createElement("li",{key:e.id,className:"filter-list-item"},a.a.createElement("button",{onClick:function(){i(e,r)}},e.title))}))))}}]),t}(o.Component),f=(n(16),function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={query:"",isLoading:!0,filteredMarkers:[],toggle:!1},n.setInfoWindow=function(e,t){var o=Object(m.a)(Object(m.a)(n)).googleObject;if(t.marker!==e){t.setContent(""),t.marker=e,t.addListener("closeclick",function(){t.marker=null});var a=n.loadVenueDetails(e);Promise.all([a]).then(function(e){n.venueDetails=e[0].response.venue});(new o.StreetViewService).getPanoramaByLocation(e.position,50,function(n,i){if(i===o.StreetViewStatus.OK){var r=n.location.latLng,c=o.geometry.spherical.computeHeading(r,e.position);t.setContent("\n            <h2>".concat(e.title,"</h2>\n            <div id='pano'></div>\n            <p>Address: ").concat(e.location.formattedAddress[0],", ").concat(e.location.formattedAddress[1],"</p>\n            <p>Rating: ").concat(a.rating,"</p>\n            "));var s={position:r,pov:{heading:c,pitch:30}};new o.StreetViewPanorama(document.getElementById("pano"),s)}else t.setContent("<div>".concat(e.title,"<div><div>No Street View Found</div>"))}),t.open(n.map,e)}},n.filterMarkers=function(e){n.filterContainer=[],n.venueMarkers.forEach(function(t){t.title.toLowerCase().includes(e.toLowerCase())?(t.setVisible(!0),n.filterContainer.push(t)):t.setVisible(!1)}),n.setState({query:e,filteredMarkers:n.filterContainer})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=new Promise(function(e,t){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?libraries=places,geometry&key=".concat("AIzaSyAP4vpEbZ99EZkBmoTlvApp1wTIbDJtA-8","&callback=resolveGoogleMapsPromise"),n.async=!0,document.body.appendChild(n)}),n=function(){var e="https://api.foursquare.com/v2/venues/search?client_id=".concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20180323&limit=30&near=").concat("Dallas, TX","&query=").concat("restuarant");return fetch(e).then(function(e){return e.json()}).catch(function(e){console.log(e)})}();Promise.all([t,n]).then(function(t){e.googleObject=t[0].maps,e.venues=t[1].response.venues,e.map=new e.googleObject.Map(document.getElementById("map"),{center:{lat:32.815747500947786,lng:-96.80991529391892},zoom:13}),e.largeInfoWindow=new e.googleObject.InfoWindow;var n=new e.googleObject.LatLngBounds,o="http://maps.google.com/mapfiles/ms/icons/red-dot.png";e.venueMarkers=[],e.venues.forEach(function(t){var a=t.id,i=t.name,r={lat:t.location.lat,lng:t.location.lng},c=t.location,s=new e.googleObject.Marker({map:e.map,position:r,icon:o,title:i,location:c,animation:e.googleObject.Animation.DROP,id:a});e.venueMarkers.push(s),n.extend(s.position),s.addListener("click",function(){e.setInfoWindow(s,e.largeInfoWindow)}),s.addListener("mouseover",function(){s.setIcon("http://maps.google.com/mapfiles/ms/icons/green-dot.png")}),s.addListener("mouseout",function(){s.setIcon(o)})}),e.map.fitBounds(n),e.setState({isLoading:!1,filteredMarkers:e.venueMarkers})}).catch(function(e){console.log(e)})}},{key:"loadVenueDetails",value:function(e){var t="https://api.foursquare.com/v2/venues/".concat(e.id,"?client_id=").concat("ZWXMUFVA3FFI0ETOBLYUYUV0LM0DCHLXHYIKAAXKNYAVNFA3","&client_secret=").concat("Y0VDEZ5GP0BKEACCGOIFCTP2ULKVLA3KQF42RKZZ5YQ5MVT5","&v=20181025");return fetch(t).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}},{key:"toggleNavMenu",value:function(){document.getElementById("nav").classList.toggle("nav-open")}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,"Neighborhood Restuarant Map"),a.a.createElement("img",{onClick:function(){e.toggleNavMenu()},className:"hamburger-icon",src:"https://img.icons8.com/material-rounded/100/000000/menu.png",alt:"Nav icon"})),a.a.createElement("div",null,this.state.isLoading?a.a.createElement("div",null,"Content Loading"):a.a.createElement(p,{largeInfoWindow:this.largeInfoWindow,query:this.state.query,markers:this.state.filteredMarkers,filterMarkers:this.filterMarkers,setInfoWindow:this.setInfoWindow}),a.a.createElement("div",{id:"map"})))}}]),t}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.4bc0489f.chunk.js.map